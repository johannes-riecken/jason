<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Vocabulary/hatco - J Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Vocabulary/hatco","wgTitle":"Vocabulary/hatco","wgCurRevisionId":28692,"wgRevisionId":28692,"wgArticleId":3564,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages using invalid self-closed HTML tags"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Vocabulary/hatco","wgRelevantArticleId":3564,"wgRequestId":"a6e27cd7dff92662c83eb23f","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}","wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgWikiEditorEnabledModules":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@1sqk3u2",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="/mediawiki/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector"/>
<script async="" src="/mediawiki/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/mediawiki/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.31.0"/>
<link rel="shortcut icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/mediawiki/opensearch_desc.php" title="J Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://code.jsoftware.com/mediawiki/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="J Wiki Atom feed" href="/mediawiki/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 9]><script src="/mediawiki/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Vocabulary_hatco rootpage-Vocabulary skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div class="mw-indicators mw-body-content">
</div>
<h1 id="firstHeading" class="firstHeading" lang="en">Vocabulary/hatco</h1>			<div id="bodyContent" class="mw-body-content">
				<div id="siteSub" class="noprint">From J Wiki</div>				<div id="contentSub"><span class="subpages">&lt; <a href="/wiki/Vocabulary" class="mw-redirect" title="Vocabulary">Vocabulary</a></span></div>
								<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><small>
<a href="/wiki/Vocabulary/dollar" title="Vocabulary/dollar">&gt;&gt;</a>
<a href="/wiki/Vocabulary/hatdot" title="Vocabulary/hatdot">&lt;&lt;</a> <tt>&#160;</tt>
<a href="/wiki/NuVoc" title="NuVoc">Back to: Vocabulary</a>
<a href="http://www.jsoftware.com/help/dictionary/d202n.htm" class="extiw" title="jdic:d202n">Thru to: Dictionary</a>
</small>
</p><p><span id="monadic"></span>
<span id="dyadic"></span>
</p>
<dl><dd><table class="wikitable">

<tbody><tr>
<td style="background:#eeffcc; font-size: 18pt;"><tt>[x] u^:n y</tt>
</td>
<td style="font-weight: bold; font-size: 18pt;">Fixed Power
</td>
<td style="font-weight: bold; font-size: 18pt;">Conjunction
</td></tr></tbody></table></dd></dl>
<p><small>
<a href="/wiki/Vocabulary/RankInfo#rank_.7E" title="Vocabulary/RankInfo">Rank Infinity</a> <i>-- operates on [x and] y as a whole --</i>
<a href="/wiki/Vocabulary/RankInfoIsImportant" title="Vocabulary/RankInfoIsImportant">WHY IS THIS IMPORTANT?</a>
</small>
</p><p><br />
<small><b>Note:</b> <tt>x u^:n y</tt> is equivalent to <tt>(x&amp;u)^:n y</tt> and will be discussed with the latter construct.</small>
</p>
<hr />
<p>Applies <a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">verb</a> <tt>u</tt> (or <tt>x&amp;u</tt>, if <a href="/wiki/Vocabulary/Glossary#Dyadic" title="Vocabulary/Glossary">dyadic</a>) to <tt>y</tt>, <tt>n</tt> times.
This may be interpreted as <b>If</b> or <b>Inverse</b> depending on <tt>n</tt>.
</p>
<hr />
<h3><span class="mw-headline" id="Common_Uses">Common Uses</span></h3>
<p>1. Conditionally execute a <a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">verb</a> (eg. to save writing an <tt>if.</tt>-statement):
</p>
<pre>   flag=: 1
   'Mr. ' ,^:flag 'Jones'
Mr. Jones
   flag=: 0
   'Mr. ' ,^:flag 'Jones'
Jones
</pre>
<p>2. Execute the <i><a href="/wiki/Vocabulary/Inverses" title="Vocabulary/Inverses">obverse</a></i> (which is usually the inverse) of a <a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">verb:</a>
</p>
<pre>   +: 14          NB. "Double"
28
   (+: ^:_1) 14    NB. the obverse of "Double" is "Halve"
7
</pre>
<p><b>See</b> <a href="#DoWhile">u^:v</a> for the <b>Do-While</b> construct.
</p>
<hr />
<h3><span class="mw-headline" id="More_Information">More Information</span></h3>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Common_Uses"><span class="tocnumber">1</span> <span class="toctext">Common Uses</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#More_Information"><span class="tocnumber">2</span> <span class="toctext">More Information</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#u.5E:Boolean_If"><span class="tocnumber">2.1</span> <span class="toctext">u^:Boolean If</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#u.5E:_1_.28Inverse.2C_aka_Obverse.29"><span class="tocnumber">2.2</span> <span class="toctext">u^:_1 (Inverse, aka Obverse)</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#u.5E:_.28Converge.29"><span class="tocnumber">2.3</span> <span class="toctext">u^:_ (Converge)</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Other_Values_of_n"><span class="tocnumber">2.4</span> <span class="toctext">Other Values of n</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#"><span class="tocnumber">3</span> <span class="toctext"></span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Details"><span class="tocnumber">3.1</span> <span class="toctext">Details</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Array_n"><span class="tocnumber">3.1.1</span> <span class="toctext">Array n</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Boxed_Numeric_n_--_decoding_variable-length_records"><span class="tocnumber">3.1.2</span> <span class="toctext">Boxed Numeric n -- decoding variable-length records</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Gerund_n"><span class="tocnumber">3.1.3</span> <span class="toctext">Gerund n</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Common_Uses_2"><span class="tocnumber">3.2</span> <span class="toctext">Common Uses</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Related_Primitives"><span class="tocnumber">3.3</span> <span class="toctext">Related Primitives</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#More_Information_2"><span class="tocnumber">3.4</span> <span class="toctext">More Information</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Dynamic_If"><span class="tocnumber">3.4.1</span> <span class="toctext">Dynamic If</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Do-While"><span class="tocnumber">3.4.2</span> <span class="toctext">Do-While</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#Use_These_Combinations"><span class="tocnumber">3.5</span> <span class="toctext">Use These Combinations</span></a></li>
</ul>
</li>
</ul>
</div>

<h4><span id="u^:Boolean_If"></span><span class="mw-headline" id="u.5E:Boolean_If">u^:Boolean If</span></h4>
<p>If <tt>n</tt> is 0 or 1, it has a simple interpretation: if <tt>n=1</tt>, <tt>u</tt> is applied to <tt>y</tt>, while if <tt>n=0</tt>, <tt>y</tt> is left unchanged.  I.e. <tt>&#160;^:n </tt> can be interpreted as <b>If n</b>.
</p>
<pre>   NB. Get the number of days in the current month; add 1 if February in leapyear.  *. = AND
   leapyear =: 1
   month =: 2
   ]dayinmonth =: &gt;:^:(leapyear *. month = 2) month { 0 31 28 31 30 31 30 31 31 30 31 30 31
29
   month =: 3
   ]dayinmonth =: &gt;:^:(leapyear *. month = 2) month { 0 31 28 31 30 31 30 31 31 30 31 30 31
31
</pre>
<p>The advantage of <tt>u^:n</tt> over <tt>if.</tt>-<tt>do.</tt>-<tt>end.</tt> is that <tt>u^:n</tt> is a <a href="/wiki/Vocabulary/Glossary#Phrase" title="Vocabulary/Glossary">phrase</a> rather than a <a href="/wiki/Vocabulary/AET#Sentence" title="Vocabulary/AET">sentence</a>,
and can thus be made part of a longer phrase or a sentence without requiring multiple sentences.
</p>
<hr />
<p><span id="Inverse"></span>
</p>
<h4><span id="u^:_1_(Inverse,_aka_Obverse)"></span><span class="mw-headline" id="u.5E:_1_.28Inverse.2C_aka_Obverse.29">u^:_1 (Inverse, aka Obverse)</span></h4>
<p>If <tt>n</tt> is _1, it means "undo the effect of applying <tt>u</tt>."  In J, this means to apply the <a href="/wiki/Vocabulary/Inverses" title="Vocabulary/Inverses">obverse</a>,
which is the inverse of the <a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">verb</a> unless an <a href="/wiki/Vocabulary/Glossary#Obverse" title="Vocabulary/Glossary">obverse</a> has been explicitly assigned using <tt>u&#160;:.v</tt>.
</p>
<pre>   &gt;: 5   NB. &gt;: means add one
6
   &gt;:^:_1 (6)   NB. The inverse means subtract one
5
</pre>
<hr />
<h4><span id="u^:_(Converge)"></span><span class="mw-headline" id="u.5E:_.28Converge.29">u^:_ (Converge)</span></h4>
<p><tt>u^:_</tt> means "apply <tt>u</tt> until the result stops changing".
</p>
<pre>   +/ i. 4 5  NB. +/ = 'add items together'.  Add rows to produce a list
30 34 38 42 46
   +/ +/ i. 4 5   NB. Doing it twice results in an atom
190
   +/^:_ i. 4 5   NB. 'keep totaling until you get an atom'
190
   +/^:_ i. 4 5 6  NB. works for any rank
7140
</pre>
<p>Usually <tt>u^:_</tt> is combined with <tt>u^:v</tt>, as described <a href="#DoWhile">below</a>.
</p>
<hr />
<h4><span class="mw-headline" id="Other_Values_of_n">Other Values of n</span></h4>
<p>Other values of <tt>n</tt> are rarely used.
</p><p>&#8226; Example: Parsing HTML<br />
Given: Table Structure and Content.
</p>
<pre>mytable=: 0&#160;: 0
&lt;table ...&gt;
 &lt;tr ...&gt;-1----------row1----------------1-&lt;/tr&gt;
 &lt;tr ...&gt;-2----------row2-----------------------------2-&lt;/tr&gt;
 &lt;tr ...&gt;-3----------row3---------------------3-&lt;/tr&gt;
&lt;/table&gt;
)
   dataypte mytable
literal
</pre>
<p>Task: Parse the table and pick content of Row2.<br />
Hint: Script strings.ijs (providing dyadic verbs <code>taketo</code> and <code>takeafter</code>) is part of the J standard library.
</p>
<pre>   y=. mytable;

   '&lt;tr' takeafter y                                           NB. aiming at start of 1st row
 ...&gt;-1----------row1----------------1-&lt;/tr&gt;
 &lt;tr ...&gt;-2----------row2-----------------------------2-&lt;/tr&gt;
 &lt;tr ...&gt;-3----------row3---------------------3-&lt;/tr&gt;
&lt;/table&gt;

   '&lt;tr' takeafter(^:2) y                                      NB. after two cuts, near Row2
 ...&gt;-2----------row2-----------------------------2-&lt;/tr&gt;
 &lt;tr ...&gt;-3----------row3---------------------3-&lt;/tr&gt;
&lt;/table&gt;

   '&gt;' takeafter '&lt;tr' takeafter(^:2) y                        NB. cut (including) closing bracket
-2----------row2-----------------------------2-&lt;/tr&gt;
 &lt;tr ...&gt;------------row3---------------------3-&lt;/tr&gt;
&lt;/table&gt;

   '&lt;/tr' taketo '&gt;' takeafter '&lt;tr' takeafter(^:2) y          NB. Row2's content, as requested
-2----------row2-----------------------------2-
</pre>
<h2><span class="mw-headline" id=""></span></h2>
<h3><span class="mw-headline" id="Details">Details</span></h3>
<h4><span class="mw-headline" id="Array_n">Array n</span></h4>
<p>1. When <tt>n</tt> is an <a href="/wiki/Vocabulary/AET#Array" title="Vocabulary/AET">array</a>, <tt>u^:a</tt> is executed for each <a href="/wiki/Vocabulary/AET#Atom" title="Vocabulary/AET">atom</a> <tt>a</tt> in <tt>n</tt>,
and the <a href="/wiki/Vocabulary/Glossary#Result" title="Vocabulary/Glossary">results</a> are then collected into an array whose <a href="/wiki/Vocabulary/Glossary#Frame" title="Vocabulary/Glossary">frame</a> is the <a href="/wiki/Vocabulary/AET#Shape" title="Vocabulary/AET">shape</a> of <tt>n</tt>
</p>
<pre>   *:^:(0 1 2 3) 5  NB. 5, 5^2, (5^2)^2, ((5^2)^2)^2
5 25 625 390625
</pre>
<p>2. <tt>n</tt> may not be empty.
</p>
<hr />
<h4><span class="mw-headline" id="Boxed_Numeric_n_--_decoding_variable-length_records">Boxed Numeric n -- decoding variable-length records</span></h4>
<p>The main use for <a href="/wiki/Vocabulary/Glossary#Boxed" title="Vocabulary/Glossary">boxed</a> <tt>n</tt> is <a href="/wiki/Vocabulary/Idioms#Variable-Length_Records" title="Vocabulary/Idioms">separating variable-length records</a>.
</p><p>When <tt>n</tt> is boxed, the contents of <tt>n</tt> must be an <a href="/wiki/Vocabulary/AET#Atom" title="Vocabulary/AET">atom</a> or <a href="/wiki/Vocabulary/Glossary#Empty" title="Vocabulary/Glossary">empty.</a>
The <a href="/wiki/Vocabulary/Glossary#Result" title="Vocabulary/Glossary">results</a> from executing <tt>u</tt> on <tt>y</tt> repeatedly are collected into a <a href="/wiki/Vocabulary/AET#List" title="Vocabulary/AET">list</a> of results.
</p><p>If <tt>&gt;n</tt> is finite, <tt>u^:n</tt> executes <tt>u</tt> <tt>((&gt;n)-1)</tt> times, collecting the results from each execution (if <tt>&gt;n</tt> is negative, u^:_1 is executed <tt>((-&gt;n)-1)</tt> times).  The original value of <tt>y</tt> is collected as the first item of the result.  Thus
</p>
<pre>   *:^:(&lt;4) 5   NB. same as *:^:0 1 2 3
5 25 625 390625
</pre>
<p>If <tt>&gt;n</tt> is _ or empty, <tt>u</tt> is repeatedly executed until the result stops changing.  All the results are collected into an array.  Since <tt>a:</tt> is <tt>&lt;0$0</tt>, it is used for <tt>y</tt> in this case
</p>
<pre>   (0 &gt;. &lt;:)^:a: 5   NB. Decrement, but not below 0
5 4 3 2 1 0
</pre>
<hr />
<h4><span class="mw-headline" id="Gerund_n">Gerund n</span></h4>
<p>When <tt>n</tt> is a <a href="/wiki/Vocabulary/Glossary#Gerund" title="Vocabulary/Glossary">gerund</a>, it specifies preprocessing for the <a href="/wiki/Vocabulary/AET#Argument" title="Vocabulary/AET">arguments</a>, as well as a <a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">verb</a> for calculating the value of <tt>n</tt> to use.
After these steps have been performed, <tt>u^:n</tt> is applied as usual.
</p><p>Gerund <tt>n</tt> is necessary only in tacit code.
Inside the <a href="/wiki/Vocabulary/Glossary#Body" title="Vocabulary/Glossary">body</a> of an explicit verb you could just write out the equivalent for the gerund.
</p><p>The gerund form is
</p>
<pre>x u^:(v0`v1`v2)y &lt;==&gt; (x v0 y)u^:(x v1 y) (x v2 y)
</pre>
<p>The three verbs are applied to the arguments, producing the <a href="/wiki/Vocabulary/Glossary#Value" title="Vocabulary/Glossary">values</a> to be used for <tt>x</tt>, <tt>n</tt>, and <tt>y</tt> respectively.
</p>
<pre>   'Mr.' ,^:((&lt;@[)`(1 = #@])`]) &lt;'Jones'  NB. Prepend boxed x if y has 1 atom
+---+-----+
|Mr.|Jones|
+---+-----+
   'Mr.' ,^:((&lt;@[)`(1 = #@])`]) 'Harry';'Jones'
+-----+-----+
|Harry|Jones|
+-----+-----+
</pre>
<p>If <tt>v0</tt> is omitted, it is assumed to be (<tt>[</tt>) i.e. <tt>x</tt> is used unchanged.
</p><p>If the use of <tt>u^:gerund</tt> is <a href="/wiki/Vocabulary/Glossary#Monad" title="Vocabulary/Glossary">monadic</a>, <tt>v0</tt> must be omitted (since there is no <tt>x</tt>), and <tt>v1</tt> and <tt>v2</tt> are invoked monadically.
</p><p><tt>u^:(v`])</tt> is the same as <a href="#monadicv"><tt>u^:v</tt></a>.
</p><p><span id="monadicv"></span>
</p>
<hr />
<dl><dd><table class="wikitable">

<tbody><tr>
<td style="background:#eeffcc; font-size: 18pt;"><tt>[x] u^:v y</tt>
</td>
<td style="font-weight: bold; font-size: 18pt;">Dynamic Power
</td>
<td style="font-weight: bold; font-size: 18pt;">Conjunction
</td></tr></tbody></table></dd></dl>
<p><small>
<a href="/wiki/Vocabulary/RankInfo#rank_.7E" title="Vocabulary/RankInfo">Rank Infinity</a> <i>-- operates on [x and] y as a whole --</i>
<a href="/wiki/Vocabulary/RankInfoIsImportant" title="Vocabulary/RankInfoIsImportant">WHY IS THIS IMPORTANT?</a>
</small>
</p><p><br />
<small><b>Note:</b> <tt>x u^:v y</tt> is equivalent to <tt>(x&amp;u)^:(x v y) y</tt> and will be discussed with the latter construct.</small>
</p>
<hr />
<p>If <tt>x</tt> is <i>present</i>
</p>
<ul><li>(<tt>x u^:v y</tt>) applies <a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">verb</a> <tt>x&amp;u</tt> to <tt>y</tt> <i>n</i> times, where <i>n</i> is the <a href="/wiki/Vocabulary/Glossary#Result" title="Vocabulary/Glossary">result</a> of (<tt>x v y</tt>)</li>
<li>The number of times <i>n</i> that <tt>u</tt> is executed therefore depends on the <a href="/wiki/Vocabulary/Glossary#Value" title="Vocabulary/Glossary">values</a> of the <a href="/wiki/Vocabulary/AET#Argument" title="Vocabulary/AET">arguments</a> <tt>x</tt> and <tt>y</tt> .</li></ul>
<p>If <tt>x</tt> is <i>absent</i>
</p>
<ul><li>(<tt>u^:v y</tt>) applies verb <tt>u</tt> to <tt>y</tt> <i>n</i> times, where <i>n</i> is the result of (<tt>v y</tt>)</li>
<li>The number of times <i>n</i> that <tt>u</tt> is executed therefore depends on the value of the single argument <tt>y</tt> .</li></ul>
<p>This yields the data-dependent constructs
</p>
<ul><li><a href="#IfDyad">Dynamic If</a></li>
<li><a href="#DoWhile">Do-While</a></li></ul>
<hr />
<h3><span class="mw-headline" id="Common_Uses_2">Common Uses</span></h3>
<p>1. Modify <tt>y</tt> based on the <a href="/wiki/Vocabulary/Glossary#Value" title="Vocabulary/Glossary">value(s)</a> of <tt>[x]</tt> and <tt>y</tt> (see: <a href="#IfDyad">Dynamic If</a>)
</p>
<pre>   '.' (~: {:) 'Mr'  NB. Returns 1 if y does not end with x (.)
1
   '.' ,~ 'Mr'  NB. append x to the end of y
Mr.
   '.' ,~^:(~: {:) 'Mr'  NB. append IF y does not end with x
Mr.
   '.' ,~^:(~: {:) 'Mrs.'
Mrs.
   '.' ,~^:(~: {:)&amp;.&gt; 'Mr';'Mrs.';'Jack';'Sprat'   NB. Test &amp; modify inside each box separately
+---+----+-----+------+
|Mr.|Mrs.|Jack.|Sprat.|
+---+----+-----+------+
</pre>
<p>2. Execute a <a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">verb</a> repeatedly, until a condition is reached (see: <a href="#DoWhile">Do-While</a>)
</p>
<pre>   _2&amp;(+/\) 3 1 4 1 5 9 2 6  NB. This verb adds adjacent items:  3+1, 4+1, 5+9, 2+6
4 5 14 8
   _2&amp;(+/\) 45 30 5 7 22 12 40 55  NB. Applied once
75 12 34 95
   _2&amp;(+/\)^:2 (45 30 5 7 22 12 40 55)   NB. Applied twice
87 129
   _2&amp;(+/\)^:(100 &gt; &gt;./)^:_ (45 30 5 7 22 12 40 55)   NB. applied while max of y &lt; 100
87 129
   _2&amp;(+/\)^:(50 &gt; &gt;./)^:_ (45 30 5 7 22 12 40 55)  NB. applied while max of y &lt; 50
45 30 5 7 22 12 40 55
</pre>
<hr />
<h3><span class="mw-headline" id="Related_Primitives">Related Primitives</span></h3>
<p><a href="/wiki/Vocabulary/atdot" title="Vocabulary/atdot">Agenda</a> (<tt>[x] u@.v y</tt>)
</p>
<hr />
<h3><span class="mw-headline" id="More_Information_2">More Information</span></h3>
<p><span id="IfDyad"></span>
</p>
<h4><span class="mw-headline" id="Dynamic_If">Dynamic If</span></h4>
<p>This is the construct: (<tt>u^:v y</tt>) or: (<tt>x u^:v y</tt>)
</p>
<ul><li><a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">Verb</a> <tt>v</tt> must always produce a <a href="/wiki/Vocabulary/Glossary#Boolean" title="Vocabulary/Glossary">Boolean</a> <a href="/wiki/Vocabulary/Glossary#Result" title="Vocabulary/Glossary">result.</a></li>
<li>Verb <tt>u</tt> is applied <b>if-and-only-if</b> <tt>v</tt> returns <tt>1</tt>.</li></ul>
<p>The advantage of <tt>u^:v</tt> over <tt>if.</tt>-<tt>do.</tt>-<tt>end.</tt> is that <tt>u^:v</tt> can be executed on <a href="/wiki/Vocabulary/Glossary#Cell" title="Vocabulary/Glossary">cells</a> of an <a href="/wiki/Vocabulary/AET#Array" title="Vocabulary/AET">array</a> rather than the array as a whole.
</p><p>Execution on cells will happen if you combine <tt>u^:v</tt> with <i>rank</i> (<tt>"n</tt>) or use a member of the <tt>@</tt> family (<tt>@</tt>, <tt>&amp;</tt>, <tt>&amp;.</tt>, <tt>each</tt>, <tt>every</tt>).
</p><p><small> If you need <a href="#IfDyad">Dynamic If</a> on the array as a whole, just use the <tt>u^:n</tt> form. </small>
</p><p><small> The <a href="/wiki/Vocabulary/Glossary#ControlWord" title="Vocabulary/Glossary">control word</a> <tt>if.</tt> (which tests a single condition) can't provide cell-by-<a href="/wiki/Vocabulary/Glossary#Cell" title="Vocabulary/Glossary">cell</a> control. </small>
</p>
<pre>   +: 5                    NB. means: double
10
   +:^:(6&amp;&lt;) 12            NB. means: double IF y&gt;6
24
   +:^:(6&amp;&lt;)"0 (0 3 6 12)  NB. means: double only atoms that are &gt; 6
0 3 6 24
</pre>
<p>In the <a href="/wiki/Vocabulary/Glossary#Dyad" title="Vocabulary/Glossary">dyadic</a> case, both <tt>u</tt> and <tt>v</tt> are invoked dyadically
</p>
<pre>   3!:0 'Smith'   NB. 3!:0 tests the type of y.  2=literal
2
   3!:0 (5)   NB. 4=integer
4
   'Mr. ' ,^:(2 = 3!:0@]) 'Smith'   NB. Prepend 'Mr.' IF y is a string
Mr. Smith
   'Mr. ' ,^:(2 = 3!:0@]) 5   NB. Otherwise leave y unchanged
5
</pre>
<p><small><b>Note:</b> <tt>3!:0@]</tt> was necessary, because <tt>'Mr. ' 3!:0 'Smith'</tt> would have been a <tt>domain error</tt>. </small>
</p><p>Dyadic execution means that <tt>x</tt> and <tt>y</tt> must <a href="/wiki/Vocabulary/Glossary#Agree" title="Vocabulary/Glossary">agree</a>, which is sometimes problematic
</p>
<pre>   'Mr. ' ,^:(2 = 3!:0@])&amp;.&gt; 'Smith';5;'Jones';10;'Williams';15
|length error
|   'Mr. '    ,^:(2=3!:0@])&amp;.&gt;'Smith';5;'Jones';10;'Williams';15
</pre>
<p>The problem is that <tt>x</tt> has 4 atoms but <tt>y</tt> has 6 atoms.
</p><p><small><b>Workaround:</b> Use: <tt>x&amp;u^:v</tt> rather than: <tt>x u@:v</tt>. Then the verb as a whole is no longer dyadic.</small>
</p><p><small><b>Note:</b> Because of the long left scope of <a href="/wiki/Vocabulary/Glossary#Modifier" title="Vocabulary/Glossary">modifiers</a>, <tt>x&amp;u^:v</tt> is the same as: <tt>(x&amp;u)^:v</tt> </small>
</p>
<pre>   'Mr. '&amp;,^:(2 = 3!:0@])&amp;.&gt; 'Smith';5;'Jones';10;'Williams';15
+---------+-+---------+--+------------+--+
|Mr. Smith|5|Mr. Jones|10|Mr. Williams|15|
+---------+-+---------+--+------------+--+
</pre>
<hr />
<p><span id="DoWhile"></span>
</p>
<h4><span class="mw-headline" id="Do-While">Do-While</span></h4>
<p>This is the construct: (<tt>u^:v^:_ y</tt>) or: (<tt>x u^:v^:_ y</tt>)
</p>
<ul><li><a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">Verb</a> <tt>v</tt> must always produce a <a href="/wiki/Vocabulary/Glossary#Boolean" title="Vocabulary/Glossary">Boolean</a> <a href="/wiki/Vocabulary/Glossary#Result" title="Vocabulary/Glossary">result.</a></li>
<li><a href="/wiki/Vocabulary/AET#Verb" title="Vocabulary/AET">Verb</a> <tt>u</tt> is executed repeatedly until <tt>v</tt> returns <tt>0</tt> or <tt>u</tt> returns its <a href="/wiki/Vocabulary/AET#Argument" title="Vocabulary/AET">argument</a> unchanged.</li></ul>
<p>Do-While can be executed independently on <a href="/wiki/Vocabulary/Glossary#Cell" title="Vocabulary/Glossary">cells</a> of the <a href="/wiki/Vocabulary/AET#Argument" title="Vocabulary/AET">arguments</a>
if you combine it with <a href="/wiki/Vocabulary/quote" title="Vocabulary/quote">Rank</a> (<tt>"n</tt>) or use a member of the <tt>@</tt> family (<tt>@</tt>, <tt>&amp;</tt>, <tt>&amp;.</tt>, <tt>each</tt>, <tt>every</tt>).
</p><p>Despite its name, Do-While is very rarely used in J.
Almost all looping is done using the other <a href="/wiki/Vocabulary/Glossary#Modifier" title="Vocabulary/Glossary">modifiers</a>.
</p>
<pre>   3&amp;*^:(100 &gt; ])^:_ (5)            NB. triple y while it is less than 100
135
   3&amp;*^:(100 &gt; ])^:_"0 (5 6 7 20)   NB. same, but test each atom independently
135 162 189 180
</pre>
<hr />
<h3><span class="mw-headline" id="Use_These_Combinations">Use These Combinations</span></h3>
<p>Combinations using <tt>u^:v</tt> that have <a href="/wiki/Vocabulary/SpecialCombinations" title="Vocabulary/SpecialCombinations">exceptionally good performance</a> include:
</p>
<dl><dd><table class="wikitable">

<tbody><tr>
<td style="text-align:center;"><b>What it does</b>
</td>
<td style="text-align:center;"><b>Type;<br />
</b><p><b>Precisions;<br />
Ranks</b>
</p>
</td>
<td style="text-align:center;"><b><a href="/wiki/Vocabulary/SpecialCombinations#1" title="Vocabulary/SpecialCombinations">Syntax</a></b>
</td>
<td style="text-align:center;"><b>Variants;<br />
</b><p><b>Restrictions</b>
</p>
</td>
<td><b>Benefits;<br />
</b><p><b>Bug Warnings</b>
</p>
</td></tr>
<tr>
<td style="text-align:center;">Find ordinal numbers of <tt>y</tt> (the relative rank of each item of <tt>y</tt> in the sort order
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;"><tt>/:@/: y</tt>
</td>
<td style="text-align:center;">note <tt>\:</tt> is <b>not</b> special
</td>
<td>better than <tt>/:^:2 y</tt>
</td></tr>
<tr>
<td style="text-align:center;">Follow a chain of variable-length records
</td>
<td style="text-align:center;">integer <tt>x</tt> and <tt>y</tt>
</td>
<td style="text-align:center;"><tt>{&amp;x^:a: y</tt><br />
<p><tt>x {~^:a: y</tt>
</p>
</td>
<td style="text-align:center;"><tt>&lt;_</tt> <small>in place of</small> <tt>a:</tt>
</td>
<td>Produces list of starting positions.  Limit all values of <tt>x</tt> to at most <tt>#x</tt>, then append <tt>_1</tt> to the end of <tt>x</tt>.  Discard the final starting position of <tt>_1</tt>.
</td></tr>
<tr>
<td style="text-align:center;">Monadic power whose power depends on <tt>x</tt>
</td>
<td style="text-align:center;">
</td>
<td style="text-align:center;"><tt>x f@]^:g y</tt><br />
<p><small>(<tt>f</tt> is any verb)</small>
</p>
</td>
<td style="text-align:center;">
</td>
<td>Applies <tt>f</tt> rather than <tt>x&amp;(f@])</tt> (very small improvement)
</td></tr></tbody></table></dd></dl>
<hr />
<p>CategoryVoc CategoryVocLoop CategoryVocRecursion
</p>
<!-- 
NewPP limit report
Cached time: 20210812104127
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.031 seconds
Real time usage: 0.032 seconds
Preprocessor visited node count: 250/1000000
Preprocessor generated node count: 484/1000000
Post‐expand include size: 362/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4595/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    1.296      1 -total
 40.21%    0.521      2 Vocabulary/rank_~
-->
</div>
<!-- Saved in parser cache with key my_wiki:pcache:idhash:3564-0!canonical and timestamp 20210812104127 and revision id 28692
 -->
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://code.jsoftware.com/mediawiki/index.php?title=Vocabulary/hatco&amp;oldid=28692">https://code.jsoftware.com/mediawiki/index.php?title=Vocabulary/hatco&amp;oldid=28692</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/mediawiki/index.php?title=Category:Pages_using_invalid_self-closed_HTML_tags&amp;action=edit&amp;redlink=1" class="new" title="Category:Pages using invalid self-closed HTML tags (page does not exist)">Pages using invalid self-closed HTML tags</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Vocabulary%2Fhatco" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="/wiki/Vocabulary/hatco" title="View the content page [c]" accesskey="c">Page</a></span></li><li id="ca-talk" class="new"><span><a href="/mediawiki/index.php?title=Talk:Vocabulary/hatco&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="/wiki/Vocabulary/hatco">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="/mediawiki/index.php?title=Vocabulary/hatco&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="/mediawiki/index.php?title=Vocabulary/hatco&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
						<h3 id="p-cactions-label"><span>More</span></h3>
						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="/mediawiki/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search J Wiki" title="Search J Wiki [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="/wiki/Main_Page"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-New-Users"><a href="/wiki/Guides/GettingStarted">New Users</a></li><li id="n-Guides"><a href="/wiki/Guides">Guides</a></li><li id="n-NuVoc"><a href="/wiki/NuVoc">NuVoc</a></li><li id="n-System"><a href="/wiki/System">System</a></li><li id="n-Showcase"><a href="/wiki/Showcase">Showcase</a></li><li id="n-Library"><a href="/wiki/Library">Library</a></li><li id="n-Community"><a href="/wiki/Community">Community</a></li><li id="n-Recent-changes"><a href="/wiki/Special:RecentChanges">Recent changes</a></li><li id="n-Random-page"><a href="/wiki/Special:Random">Random page</a></li><li id="n-J-wiki-search"><a href="/wiki/Special:JwikiSearch">J wiki search</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Tools</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Vocabulary/hatco" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Vocabulary/hatco" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="/mediawiki/index.php?title=Vocabulary/hatco&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="/mediawiki/index.php?title=Vocabulary/hatco&amp;oldid=28692" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="/mediawiki/index.php?title=Vocabulary/hatco&amp;action=info" title="More information about this page">Page information</a></li><li id="t-cite"><a href="/mediawiki/index.php?title=Special:CiteThisPage&amp;page=Vocabulary%2Fhatco&amp;id=28692" title="Information on how to cite this page">Cite this page</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 26 May 2020, at 18:28.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-about"><a href="/wiki/About" title="About">About J Wiki</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-poweredbyico">
						<a href="//www.mediawiki.org/"><img src="/mediawiki/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/mediawiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /mediawiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>					</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.031","walltime":"0.032","ppvisitednodes":{"value":250,"limit":1000000},"ppgeneratednodes":{"value":484,"limit":1000000},"postexpandincludesize":{"value":362,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":4595,"limit":5000000},"timingprofile":["100.00%    1.296      1 -total"," 40.21%    0.521      2 Vocabulary/rank_~"]},"cachereport":{"timestamp":"20210812104127","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":63});});</script>
	</body>
</html>
